{"version":3,"sources":["js/gallery.js","index.js"],"names":["preview","original","description","imagesGallery","document","querySelector","selectedImage","modalImage","galleryMarkup","createGalleryMarkup","galleryItems","currentImage","map","join","insertAdjacentHTML","onImageClick","evt","preventDefault","target","classList","contains","openModal","onModalClosingElClick","closingButton","dataset","action","closingArea","closeModal","onKeyPress","code","succeedingEl","closest","nextElementSibling","firstEl","parentNode","firstElementChild","succeedingImage","changeImage","firstImage","preceedingEl","previousElementSibling","lastEl","lastElementChild","preceedingImage","lastImage","add","src","source","alt","getAttribute","window","addEventListener","remove","removeEventListener"],"mappings":";;;AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACX,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DJ,QAAA,QAAA;;AC6Hf,aA7HA,QAAA,oBAEA,IAAA,EAAA,EAAA,QAAA,oBA2HA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAzHA,MAAMC,EAAgBC,SAASC,cAAc,eACvCC,EAAgBF,SAASC,cAAc,gBACvCE,EAAaH,SAASC,cAAc,oBAEpCG,EAAgBC,EAAoBC,EAAD,SAEzC,IAAIC,EAKJ,SAASF,EAAoBC,GACpBA,OAAAA,EAAaE,IAAI,EAAGZ,QAAAA,EAASC,SAAAA,EAAUC,YAAAA,iGAKhCD,+EAICD,8BACQC,sBACRC,+CAMdW,KAAK,IApBRV,EAAcW,mBAAmB,YAAaN,GAwB9C,MAAMO,EAAeC,IACnBA,EAAIC,iBACcD,EAAIE,OAAOC,UAAUC,SAAS,mBAMhDC,EAAUL,IAINM,EAAwBN,IACtBO,MAAAA,EAA8C,mBAA9BP,EAAIE,OAAOM,QAAQC,OACnCC,EAAcV,EAAIE,OAAOC,UAAUC,SAAS,sBAE7CG,GAAkBG,IAIvBC,KAIIC,EAAaZ,IACbA,GAAa,WAAbA,EAAIa,KAKJb,GAAa,cAAbA,EAAIa,KAeJb,GAAa,eAAbA,EAAIa,UAAJb,CACIc,MAAAA,EAAenB,EAAaoB,QAAQ,MAAMC,mBAC1CC,EAAUtB,EAAaoB,QAAQ,MAAMG,WAAWC,kBAElDL,GAAAA,EAAc,CACVM,MAAAA,EAAkBN,EAAazB,cAAc,mBACnDgC,EAAYD,QAET,GAAqB,OAAjBN,EAAuB,CACxBQ,MAAAA,EAAaL,EAAQ5B,cAAc,mBACzCgC,EAAYC,QAzBZtB,CACIuB,MAAAA,EAAe5B,EAAaoB,QAAQ,MAAMS,uBAC1CC,EAAS9B,EAAaoB,QAAQ,MAAMG,WAAWQ,iBAEjDH,GAAAA,EAAc,CACVI,MAAAA,EAAkBJ,EAAalC,cAAc,mBACnDgC,EAAYM,QAET,GAAqB,OAAjBJ,EAAuB,CACxBK,MAAAA,EAAYH,EAAOpC,cAAc,mBACvCgC,EAAYO,SAddjB,KAoCEN,EAAYL,IAChBV,EAAca,UAAU0B,IAAI,WAC5BtC,EAAWuC,IAAM9B,EAAIE,OAAOM,QAAQuB,OACpCxC,EAAWyC,IAAMhC,EAAIE,OAAO+B,aAAa,OACzCtC,EAAeK,EAAIE,OAEnBgC,OAAOC,iBAAiB,UAAWvB,IAI/BD,EAAa,KACjBrB,EAAca,UAAUiC,OAAO,WAC/B7C,EAAWuC,IAAM,GACjBvC,EAAWyC,IAAM,GAEjBE,OAAOG,oBAAoB,UAAWzB,IAIlCS,EAAcnB,IAClBX,EAAWuC,IAAM5B,EAAOM,QAAQuB,OAChCxC,EAAWyC,IAAM9B,EAAO+B,aAAa,OACrCtC,EAAeO,GAGjBf,EAAcgD,iBAAiB,QAASpC,GACxCT,EAAc6C,iBAAiB,QAAS7B","file":"src.2e15ae73.js","sourceRoot":"../src","sourcesContent":["export default [\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n      description: 'Hokkaido Flower',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n      description: 'Container Haulage Freight',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n      description: 'Aerial Beach View',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n      description: 'Flower Blooms',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n      description: 'Alpine Mountains',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n      description: 'Mountain Lake Sailing',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n      description: 'Alpine Spring Meadows',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n      description: 'Nature Landscape',\n    },\n    {\n      preview:\n        'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n      original:\n        'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n      description: 'Lighthouse Coast Sea',\n    },\n  ];","import './sass/main.scss';\n\nimport galleryItems from './js/gallery.js';\n\nconst imagesGallery = document.querySelector('.js-gallery');\nconst selectedImage = document.querySelector('.js-lightbox');\nconst modalImage = document.querySelector('.lightbox__image');\n\nconst galleryMarkup = createGalleryMarkup(galleryItems);\n\nlet currentImage;\n\n// Формирование разметки галлереи\nimagesGallery.insertAdjacentHTML('beforeend', galleryMarkup);\n\nfunction createGalleryMarkup(galleryItems) {\n  return galleryItems.map(({ preview, original, description }) => {\n    return `\n    <li class=\"gallery__item\">\n      <a\n        class=\"gallery__link\"\n        href=\"${original}\"\n      >\n        <img\n          class=\"gallery__image\"\n          src=\"${preview}\"\n          data-source=\"${original}\"\n          alt=\"${description}\"\n        />\n      </a>\n    </li>\n    `\n  })\n  .join('');\n}\n\n// Клик на элемент галлереи\nconst onImageClick = evt => {\n  evt.preventDefault();\n  const isImageEl = evt.target.classList.contains('gallery__image');\n\n  if (!isImageEl) {\n    return\n  }\n\n  openModal(evt)\n}\n\n// Клик на элемент закрытия модалки\nconst onModalClosingElClick = evt => {\n  const closingButton = evt.target.dataset.action === 'close-lightbox';\n  const closingArea = evt.target.classList.contains('lightbox__overlay');\n\n  if (!closingButton && !closingArea) {\n    return\n  }\n\n  closeModal()  \n}\n\n// Нажатия кнопок - esc и стрелки\nconst onKeyPress = evt => {\n  if (evt.code === 'Escape') {\n    closeModal();\n    return;\n  }\n\n  if (evt.code === 'ArrowLeft') {\n    const preceedingEl = currentImage.closest('li').previousElementSibling;\n    const lastEl = currentImage.closest('li').parentNode.lastElementChild;\n\n    if (preceedingEl) {\n      const preceedingImage = preceedingEl.querySelector('.gallery__image');\n      changeImage(preceedingImage);\n    }\n    else if (preceedingEl === null) {\n      const lastImage = lastEl.querySelector('.gallery__image');\n      changeImage(lastImage);\n    }\n    return\n  }\n\n  if (evt.code === 'ArrowRight') {\n    const succeedingEl = currentImage.closest('li').nextElementSibling;\n    const firstEl = currentImage.closest('li').parentNode.firstElementChild;\n\n    if (succeedingEl) {\n      const succeedingImage = succeedingEl.querySelector('.gallery__image');\n      changeImage(succeedingImage);\n    } \n    else if (succeedingEl === null) {\n      const firstImage = firstEl.querySelector('.gallery__image');\n      changeImage(firstImage);\n    }\n    return\n  }\n}\n\n// Открытие модалки\nconst openModal = evt => {\n  selectedImage.classList.add('is-open');\n  modalImage.src = evt.target.dataset.source;\n  modalImage.alt = evt.target.getAttribute('alt');\n  currentImage = evt.target;\n\n  window.addEventListener('keydown', onKeyPress);\n}\n\n// Закрытие модалки\nconst closeModal = () => {\n  selectedImage.classList.remove('is-open');\n  modalImage.src = '';\n  modalImage.alt = '';\n\n  window.removeEventListener('keydown', onKeyPress);\n}\n\n// Переключение картинок\nconst changeImage = target => {\n  modalImage.src = target.dataset.source;\n  modalImage.alt = target.getAttribute('alt');\n  currentImage = target;\n}\n\nimagesGallery.addEventListener('click', onImageClick);\nselectedImage.addEventListener('click', onModalClosingElClick);"]}